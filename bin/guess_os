#!/usr/bin/env ruby

require_relative '../lib/guess_os/host'

puts "[GuessOS]"

print '      ip? '; ip = gets.chomp
if ip.empty?
  ip = "localhost"
elsif ip != "localhost"
  print '    port? '; port = gets.chomp
  print 'username? '; username = gets.chomp
  print 'password? '; password = gets.chomp

  port = nil if port.empty?
  username = nil if username.empty?
  password = nil if password.empty?
end

host = GuessOS::Host.new(
  ip: ip,
  port: port,
  username: username,
  password: password
)

puts "-" * 50 + "\n"
puts "[Results]"
puts "    Type: #{host.os.type}"
puts "    Name: #{host.os.name}"
puts "    Desc: #{host.os.desc}"
